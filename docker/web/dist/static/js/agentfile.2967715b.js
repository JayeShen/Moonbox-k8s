(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["agentfile"],{b282:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.agentFiles,"header-cell-style":e.tableHeaderStyle,size:"small",border:""}},[t("el-table-column",{attrs:{label:"文件名称",prop:"fileName",align:"center","show-overflow-tooltip":"",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"文件hash",prop:"digestHex",align:"center","show-overflow-tooltip":"",formatter:e.formatTableTDBlank,width:"300px"}}),t("el-table-column",{attrs:{label:"文件描述",prop:"desc",align:"center",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"创建人",prop:"createUser",align:"center",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",formatter:e.formatTableTDBlank,width:"160px"}}),t("el-table-column",{attrs:{label:"更新人",prop:"updateUser",align:"center",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"更新时间",prop:"updateTime",align:"center",formatter:e.formatTableTDBlank,width:"160px"}}),t("el-table-column",{attrs:{label:"操作",prop:"alertStatus",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-upload",{attrs:{action:"/api/console-agent/fileUpload",data:{fileName:a.row.fileName},"show-file-list":!1,"on-success":e.success,"on-error":e.error,"before-upload":e.before,accept:".tar"}},[t("el-tooltip",{attrs:{effect:"dark",content:"仅支持上传.tar压缩文件",placement:"left"}},[t("el-button",{attrs:{type:"text",size:"small"}},[e._v("文件更新")])],1)],1)]}}])})],1)],1)],1)},r=[],o=(a("0cdc"),a("f829")),n=a("365c"),i={data:function(){return{loading:!1,agentFiles:[]}},created:function(){this.loading=!0,this.query()},methods:{query:function(){n["a"].agentFile.getAgentFiles().then(function(e){Object(o["a"])(this,this),"SUCCESS"===e.code?this.agentFiles=e.data:this.$message.error("获取agent数据失败:"+e.msg),this.loading=!1}.bind(this),function(e){Object(o["a"])(this,this),this.$message.error("获取agent数据失败:"+e.msg),this.loading=!1}.bind(this))},before:function(){this.loading=!0},success:function(){this.query()},error:function(e){this.$message.error("文件上传失败"+e),this.loading=!1}}},s=i,c=a("e607"),d=Object(c["a"])(s,l,r,!1,null,"d128842a",null);t["default"]=d.exports}}]);