(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["playback"],{"9c30":function(a,t,e){},d0ca:function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("el-form",{staticClass:"demo-ruleForm",attrs:{inline:!0},model:{value:a.playbackForm,callback:function(t){a.playbackForm=t},expression:"playbackForm"}},[t("el-form-item",{attrs:{label:"回放任务执行编码"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",size:"small",placeholder:"请输入"},on:{clear:function(t){return a.search_handler1(1,"clear")}},model:{value:a.playbackForm.replayTaskRunId,callback:function(t){a.$set(a.playbackForm,"replayTaskRunId",t)},expression:"playbackForm.replayTaskRunId"}})],1),t("el-form-item",{attrs:{label:"录制任务执行编码"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",size:"small",placeholder:"请输入"},on:{clear:function(t){return a.search_handler1(1,"clear")}},model:{value:a.playbackForm.recordTaskRunId,callback:function(t){a.$set(a.playbackForm,"recordTaskRunId",t)},expression:"playbackForm.recordTaskRunId"}})],1),t("el-form-item",{attrs:{label:"应用名称"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入",clearable:!0},on:{clear:function(t){return a.search_handler1(1,"clear")}},model:{value:a.playbackForm.appName,callback:function(t){a.$set(a.playbackForm,"appName",t)},expression:"playbackForm.appName"}})],1),t("el-form-item",[t("el-button-group",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(t){return a.search_handler1(1)}}},[a._v("查询")])],1)],1)],1)],1),t("el-card",{staticClass:"content"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"table1",attrs:{"expand-row-keys":a.playbackForm.expands1,data:a.playbackForm.tableData1,"header-cell-style":a.tableHeaderStyle,"row-key":"taskRunId",size:"small",border:""},on:{"expand-change":function(t){return a.expandClick1(arguments[0],arguments[1],1)}}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"接口uri"}},[t("el-input",{attrs:{size:"small",clearable:""},on:{clear:function(t){return a.search_handler2(e.row,1)}},model:{value:a.playbackForm.search2_ipt,callback:function(t){a.$set(a.playbackForm,"search2_ipt",t)},expression:"playbackForm.search2_ipt"}})],1),t("el-form-item",{attrs:{label:"回放结果"}},[t("el-select",{attrs:{placeholder:"请选择",size:"small",clearable:""},on:{clear:function(t){return a.search_handler2(e.row,1)}},model:{value:a.playbackForm.runStatus,callback:function(t){a.$set(a.playbackForm,"runStatus",t)},expression:"playbackForm.runStatus"}},[t("el-option",{attrs:{label:"全部成功",value:1}}),t("el-option",{attrs:{label:"部分成功",value:2}}),t("el-option",{attrs:{label:"全部失败",value:3}})],1)],1),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(t){return a.search_handler2(e.row,1)}}},[a._v("查询")])],1)],1),t("el-table",{ref:"table2",attrs:{"expand-row-keys":a.playbackForm.expands2,data:a.playbackForm.tableData2,"header-cell-style":a.tableHeaderStyle,"row-key":"replayUri",size:"small",border:""},on:{"expand-change":function(t){return a.expandClick2(arguments[0],arguments[1],1)}}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"traceId"}},[t("el-input",{attrs:{size:"small",clearable:!0},on:{clear:function(t){return a.search_handler3(e.row,1)}},model:{value:a.playbackForm.search3_ipt,callback:function(t){a.$set(a.playbackForm,"search3_ipt",t)},expression:"playbackForm.search3_ipt"}})],1),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(t){return a.search_handler3(e.row,1)}}},[a._v("查询")])],1)],1),t("el-table",{ref:"table3",attrs:{data:a.playbackForm.tableData3,"header-cell-style":a.tableHeaderStyle,size:"small",border:""}},[[t("el-table-column",{attrs:{label:"回放traceId",prop:"replayTraceId",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"原始traceId",prop:"recordTraceId",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"回放时间",prop:"replayTime",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"回放结果",prop:"replayCode",align:"center",width:"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",{class:[0===e.row.replayStatus?"green":"red"]},[a._v(a._s(e.row.replayCode))])]}}],null,!0)}),t("el-table-column",{attrs:{label:"结果描述",prop:"replayMessage",align:"center",width:"140","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:a._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.flowDetail(r.row,e.row.invokeType)}}},[a._v("详情")])]}}],null,!0)})]],2),t("div",{staticClass:"block fr"},[a.showPage3?t("el-pagination",{attrs:{"current-page":a.playbackForm.currentPage3,"page-sizes":[6,10,20],"page-size":a.playbackForm.pageSize3,total:a.playbackForm.total3,layout:"total,sizes,prev,pager,next,jumper"},on:{"current-change":function(t){return a.currentChange3(e.row,arguments[0])},"size-change":function(t){return a.sizeChange3(e.row,arguments[0])},"update:currentPage":function(t){return a.$set(a.playbackForm,"currentPage3",t)},"update:current-page":function(t){return a.$set(a.playbackForm,"currentPage3",t)},"update:pageSize":function(t){return a.$set(a.playbackForm,"pageSize3",t)},"update:page-size":function(t){return a.$set(a.playbackForm,"pageSize3",t)}}}):a._e()],1)]}}],null,!0)}),[t("el-table-column",{attrs:{label:"回放接口",prop:"replayUri",align:"left","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"接口协议",prop:"invokeType",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"接口回放结果",align:"center",formatter:a.formatTableTDBlank},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.successCount===e.row.replayCount?t("span",{staticClass:"blue",attrs:{size:"mini"}},[a._v("全部成功")]):a._e(),0!==e.row.successCount&&e.row.successCount<e.row.replayCount?t("span",{staticClass:"orange",attrs:{size:"mini"}},[a._v("部分成功")]):a._e(),0===e.row.successCount?t("span",{staticClass:"red",attrs:{size:"mini"}},[a._v("全部失败")]):a._e()]}}],null,!0)}),t("el-table-column",{attrs:{label:"成功/回放数据总量",align:"center",formatter:a.formatTableTDBlank},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(e.row.successCount?e.row.successCount:0)+" / "+a._s(e.row.replayCount?e.row.replayCount:0))])]}}],null,!0)})]],2),t("div",{staticClass:"block fr"},[a.showPage2?t("el-pagination",{attrs:{"current-page":a.playbackForm.currentPage2,"page-sizes":[6,10,20],"page-size":a.playbackForm.pageSize2,total:a.playbackForm.total2,layout:"total,sizes,prev,pager,next,jumper"},on:{"current-change":function(t){return a.currentChange2(e.row,arguments[0])},"size-change":function(t){return a.sizeChange2(e.row,arguments[0])},"update:currentPage":function(t){return a.$set(a.playbackForm,"currentPage2",t)},"update:current-page":function(t){return a.$set(a.playbackForm,"currentPage2",t)},"update:pageSize":function(t){return a.$set(a.playbackForm,"pageSize2",t)},"update:page-size":function(t){return a.$set(a.playbackForm,"pageSize2",t)}}}):a._e()],1)]}}])}),t("el-table-column",{attrs:{label:"回放任务执行编码",prop:"taskRunId",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"录制任务执行编码",prop:"recordTaskRunId",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank},scopedSlots:a._u([{key:"default",fn:function(e){return[t("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"javascript:;"},on:{click:function(t){return a.goRecord(e.row)}}},[a._v(a._s(e.row.recordTaskRunId))])]}}])}),t("el-table-column",{attrs:{label:"录制模板编码",prop:"recordTemplateId",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),a.showColume("runEnv")?t("el-table-column",{attrs:{label:"回放执行环境",prop:"runEnv",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank,width:"70","min-width":"70"}}):a._e(),a.showColume("appName")?t("el-table-column",{attrs:{label:"应用名称",prop:"appName",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank,width:"120"}}):a._e(),a.showColume("agentStatusMsg")?t("el-table-column",{attrs:{label:"agent状态",prop:"agentStatusMsg",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank,width:"100"}}):a._e(),a.showColume("runStatusMsg")?t("el-table-column",{attrs:{prop:"runStatusMsg",label:"执行状态",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank,width:"90"},scopedSlots:a._u([{key:"default",fn:function(e){return[2==e.row.runStatus?t("span",{staticClass:"blue"},[a._v(a._s(e.row.runStatusMsg))]):a._e(),3==e.row.runStatus?t("span",{staticClass:"green"},[a._v(a._s(e.row.runStatusMsg))]):a._e(),4==e.row.runStatus?t("span",{staticClass:"red"},[a._v(a._s(e.row.runStatusMsg))]):a._e(),6==e.row.runStatus?t("span",{staticClass:"orange"},[a._v(a._s(e.row.runStatusMsg))]):a._e()]}}],null,!1,2155257777)}):a._e(),a.showColume("runDesc")?t("el-table-column",{attrs:{label:"描述",prop:"runDesc",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.runDesc?t("span",[a._v(a._s(e.row.runDesc))]):t("span",[a._v("--")])]}}],null,!1,1780339761)}):a._e(),a.showColume("taskStartTime")?t("el-table-column",{attrs:{label:"开始时间",prop:"taskStartTime",align:"center",width:"90",formatter:a.formatTableTDBlank}}):a._e(),a.showColume("taskEndTime")?t("el-table-column",{attrs:{label:"完成时间",prop:"taskEndTime",align:"center",width:"90",formatter:a.formatTableTDBlank}}):a._e(),t("el-table-column",{attrs:{label:"更新人",prop:"updateUser",align:"center",width:"80px",formatter:a.formatTableTDBlank},scopedSlots:a._u([{key:"default",fn:function(e){return[t("div",[a._v(a._s(e.row.updateUser))]),e.row.updateUserName?t("div",[a._v(a._s(e.row.updateUserName))]):a._e()]}}])}),t("el-table-column",{attrs:{align:"center",width:"350px"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.runDetail(e.row)}}},[a._v("详情")]),t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.logSearch(e.row.taskRunId)}}},[a._v("日志")]),1===e.row.agentStatus?t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.heartbeatSearch(e.row.taskRunId)}}},[a._v("心跳列表")]):a._e(),1===e.row.runStatus||2===e.row.runStatus||3===e.row.runStatus||9===e.row.runStatus?t("el-button",{staticClass:"red",attrs:{type:"text",size:"mini"},on:{click:function(t){return a.stop(e.row.taskRunId)}}},[a._v("停止")]):a._e(),9===e.row.runStatus?t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.execute(e.row.taskRunId)}}},[a._v("执行")]):a._e(),4===e.row.runStatus||5===e.row.runStatus||6===e.row.runStatus?t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.replayFail(e.row)}}},[a._v("失败回放")]):a._e(),4===e.row.runStatus||5===e.row.runStatus||6===e.row.runStatus?t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return a.rePlayback(e.row)}}},[a._v("重新回放")]):a._e(),4===e.row.runStatus||5===e.row.runStatus||6===e.row.runStatus?t("el-button",{staticClass:"red",attrs:{type:"text",size:"mini"},on:{click:function(t){return a.deleteTask(e.row.taskRunId)}}},[a._v("刪除")]):a._e()]}}])},[t("template",{slot:"header"},[t("span",{staticClass:"handlerColume",on:{click:function(t){a.drawer=!0}}},[t("span",[a._v("操作")]),t("i",{staticClass:"el-icon-setting"})])])],2)],1),t("div",{staticClass:"block fr"},[t("el-pagination",{attrs:{"current-page":a.playbackForm.currentPage1,"page-sizes":[10,50,100],"page-size":a.playbackForm.pageSize1,total:a.playbackForm.total1,layout:"total,sizes,prev,pager,next,jumper"},on:{"current-change":a.currentChange1,"size-change":a.sizeChange1}})],1)],1),t("el-dialog",{attrs:{visible:a.dialogVisible,width:"400px",title:"心跳列表"},on:{"update:visible":function(t){a.dialogVisible=t}}},[t("el-table",{attrs:{data:a.heartbeatList,size:"small"}},[t("el-table-column",{attrs:{prop:"ip",label:"ip",align:"center",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{prop:"lastHeartbeatTime",label:"最后心跳时间",align:"center",formatter:a.formatTableTDBlank}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.dialogVisible=!1}}},[a._v("关 闭")])],1)],1),t("el-dialog",{attrs:{visible:a.logDialogVisible,title:"日志",width:"800px",top:"50px"},on:{"update:visible":function(t){a.logDialogVisible=t}}},[t("el-table",{staticClass:"logTable",attrs:{data:a.logList,size:"small"}},[t("el-table-column",{attrs:{prop:"content",label:"内容详情",align:"left","header-align":"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank}}),t("el-table-column",{attrs:{prop:"createTime",label:"时间",align:"center","show-overflow-tooltip":"",formatter:a.formatTableTDBlank,width:"150"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1),t("el-drawer",{attrs:{title:"请勾选表格展示的列",visible:a.drawer,"with-header":!1,"show-close":!1,size:"230"},on:{"update:visible":function(t){a.drawer=t}}},[t("div",[t("el-checkbox",{staticClass:"checkAllColumes",attrs:{indeterminate:a.isIndeterminate},on:{change:a.checkAllColHandler},model:{value:a.checkAllColumes,callback:function(t){a.checkAllColumes=t},expression:"checkAllColumes"}},[a._v("全选")]),t("el-checkbox-group",{on:{change:a.checkColHandler},model:{value:a.checkColumes,callback:function(t){a.checkColumes=t},expression:"checkColumes"}},a._l(a.columeList,(function(e){return t("el-checkbox",{key:e.prop,attrs:{label:e.prop}},[a._v("\n          "+a._s(e.label)+"\n        ")])})),1)],1)])],1)},l=[],s=(e("e7a7"),e("566e"),e("246f"),e("0cdc"),e("f829")),n=(e("1bc7"),e("32ea"),e("a450"),e("365c")),o=e("ed08"),i={data:function(){return{loading:!1,playbackForm:{recordTaskRunId:"",replayTaskRunId:"",appName:"",tableData1:[],expands1:[],currentPage1:1,pageSize1:10,total1:0,search2_ipt:"",runStatus:"",tableData2:[],expands2:[],currentPage2:1,pageSize2:10,total2:0,search3_ipt:"",tableData3:[],currentPage3:1,pageSize3:10,total3:0},showPage2:!1,showPage3:!1,dialogVisible:!1,heartbeatList:[],logDialogVisible:!1,logList:[],checkColumes:["runEnv","appName","agentStatusMsg","runStatusMsg","runDesc","taskStartTime","taskEndTime"],columeList:[{label:"回放执行环境",prop:"runEnv"},{label:"应用名称",prop:"appName"},{label:"agent状态",prop:"agentStatusMsg"},{label:"执行状态",prop:"runStatusMsg"},{label:"描述",prop:"runDesc"},{label:"开始时间",prop:"taskStartTime"},{label:"完成时间",prop:"taskEndTime"}],checkAllColumes:!0,isIndeterminate:!1,drawer:!1}},watch:{playbackForm:{handler:function(a){"playback"==this.$route.name&&this.$store.dispatch("localstorage/pageSet",{instance:this})},deep:!0}},created:function(){var a=o["a"].getLocalStorage(this.$route.path);a&&a.playbackForm&&Object.keys(a.playbackForm).length&&(this.playbackForm=a.playbackForm),Object.keys(this.$route.query).length&&this.dealRouteQuery(),this.search_handler1()},methods:{dealRouteQuery:function(){var a=this.$route.query,t=a.taskRunId,e=a.timerTaskId,r=a.runStartTime,l=a.runEndTime,s=a.recordTaskRunId;this.playbackForm.search1_ipt=t||"",this.playbackForm.expands1=t?[t]:[],this.playbackForm.timerTaskId=e||"",this.playbackForm.runStartTime=r||"",this.playbackForm.runEndTime=l||"",this.playbackForm.recordTaskRunId=s||""},search_handler1:function(a,t){"clear"===t&&this.routerPush({name:"playback",params:{},query:{}});var e={pageNum:1===a?a:this.playbackForm.currentPage1,pageSize:this.playbackForm.pageSize1,recordTaskRunId:this.playbackForm.recordTaskRunId,replayTaskRunId:this.playbackForm.replayTaskRunId,appName:this.playbackForm.appName};this.playbackForm.tableData1=[],this.loading=!0,n["a"].playback.getExecutionList(e).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(null!==a.data.result&&(this.playbackForm.tableData1=a.data.result),this.$route.query.taskRunId&&this.playbackForm.tableData1.length&&(this.playbackForm.expands1=[this.$route.query.taskRunId],this.expandClick1(this.playbackForm.tableData1[0],this.playbackForm.expands1)),!this.$route.query.taskRunId&&this.playbackForm.expands1.length&&this.playbackForm.tableData1.forEach(function(a){Object(s["a"])(this,this),a.taskRunId===this.playbackForm.expands1[0]&&this.expandClick1(a,this.playbackForm.expands1)}.bind(this)),this.playbackForm.total1=a.data.total):this.$message.error("获取执行历史列表失败:"+a.msg)}.bind(this))},expandClick1:function(a,t,e){t.length?(e&&(this.playbackForm.search2_ipt="",this.playbackForm.runStatus=""),this.playbackForm.expands1=[a.taskRunId],this.search_handler2(a,e)):this.playbackForm.expands1=[]},search_handler2:function(a,t){this.loading=!0;var e={replayTaskRunId:a.taskRunId,pageNum:t||this.playbackForm.currentPage2,pageSize:this.playbackForm.pageSize2};this.playbackForm.search2_ipt&&(e.uriCondition=this.playbackForm.search2_ipt),this.playbackForm.runStatus&&(e.status=this.playbackForm.runStatus),n["a"].playback.getUriReplayListJava(e).then(function(a){if(Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code){var t=[];t=a.data&&a.data.result||[],t&&t.length&&(this.showPage2=!1,t.forEach(function(a){Object(s["a"])(this,this),a.replayUri===this.playbackForm.expands2[0]&&this.expandClick2(a,this.playbackForm.expands2,void 0)}.bind(this)),this.showPage2=!0),this.playbackForm.tableData2=t,this.playbackForm.total2=a.data&&a.data.total}else this.$message.error("获取列表失败:"+a.msg)}.bind(this))},expandClick2:function(a,t,e){t.length?(e&&(this.playbackForm.search3_slt="1",this.playbackForm.search3_ipt=""),this.playbackForm.expands2=[a.replayUri],this.search_handler3(a,e)):this.playbackForm.expands2=[]},search_handler3:function(a,t){var e={pageNum:t||this.playbackForm.currentPage3,pageSize:this.playbackForm.pageSize3,replayUri:a.replayUri,replayTaskRunId:a.replayTaskRunId,traceIdCondition:this.playbackForm.search3_ipt};this.loading=!0,n["a"].playback.getUriReplayDataList(e).then(function(a){Object(s["a"])(this,this),this.loading=!1,this.playbackForm.tableData3=[],"SUCCESS"===a.code?(null!==a.data.result&&(this.showPage3=!1,this.playbackForm.tableData3=a.data.result,this.showPage3=!0),this.playbackForm.total3=a.data.total):this.$message.error("获取列表失败:"+a.msg)}.bind(this))},runDetail:function(a){var t=a.recordTaskRunId,e=a.taskRunId,r={type:"detail",recordTaskRunId:t,replayTaskRunId:e};this.routerPush({name:"addReplay",params:r,query:{titleName:"回放详情"}})},logSearch:function(a){this.logDialogVisible=!0,n["a"].playback.getLogList({taskRunId:a}).then(function(a){Object(s["a"])(this,this),"SUCCESS"===a.code?this.logList=a.data||[]:this.$message.error("获取日志列表失败:"+a.msg)}.bind(this))},goRecord:function(a){var t=a.taskId,e=a.recordTaskRunId;this.routerPush({name:"record",query:{taskId:t,recordTaskRunId:e},params:{},fullPath:"/record/index"})},heartbeatSearch:function(a){n["a"].playback.getHeartbeatList({taskRunId:a}).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(this.dialogVisible=!0,this.heartbeatList=a.data||[]):this.$message.error("获取心跳列表失败:"+a.msg)}.bind(this))},stop:function(a){this.loading=!0,n["a"].playback.stop({taskRunId:a}).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(this.$message.success("操作成功"),this.search_handler1(1)):this.$message.error("操作失败:"+a.msg)}.bind(this))},execute:function(a){var t={};t.taskRunId=a,n["a"].playback.execute(t).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(this.$message.success("操作成功"),this.search_handler1(1)):this.$message.error("操作失败:"+a.msg)}.bind(this))},replayFail:function(a){var t=a.taskRunId;n["a"].playback.failPlayFail({taskRunId:t}).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(this.$message.success("失败回放成功"),this.search_handler1(1)):this.$message.error("失败回放失败："+a.msg)}.bind(this),function(a){Object(s["a"])(this,this),this.loading=!1,this.$message.error("失败回放失败："+a.msg)}.bind(this))},rePlayback:function(a){var t=a.taskRunId;n["a"].playback.rePlayback({taskRunId:t}).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(this.$message.success("重新回放成功"),this.search_handler1(1)):this.$message.error("重新回放失败："+a.msg)}.bind(this),function(a){Object(s["a"])(this,this),this.loading=!1,this.$message.error("重新回放失败："+a.msg)}.bind(this))},deleteTask:function(a){this.$confirm("您确定要删除该条回放吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["a"])(this,this),this.loading=!0,n["a"].playback.deleteTask({taskRunId:a}).then(function(a){Object(s["a"])(this,this),this.loading=!1,"SUCCESS"===a.code?(this.$message.success("删除成功"),this.search_handler1(1),this.$forceUpdate()):this.$message.error("回放任务删除失败："+a.msg)}.bind(this),function(a){Object(s["a"])(this,this),this.loading=!1,this.$message.error("回放任务删除失败："+a.msg)}.bind(this))}.bind(this)).catch(function(){Object(s["a"])(this,this),this.$message({type:"info",message:"已取消删除"})}.bind(this))},flowDetail:function(a,t){var e=a.replayTaskRunId,r=a.replayTraceId;this.routerPush({name:"playback".concat(t,"Detail"),params:{replayTaskRunId:e,replayTraceId:r}})},currentChange1:function(a){this.playbackForm.currentPage1=a,this.playbackForm.expands1=[],this.playbackForm.expands2=[],this.search_handler1()},sizeChange1:function(a){this.playbackForm.pageSize1=a,this.playbackForm.expands1=[],this.playbackForm.expands2=[],this.search_handler1(1)},currentChange2:function(a,t){this.playbackForm.currentPage2=t,this.playbackForm.expands2=[],this.search_handler2(a)},sizeChange2:function(a,t){this.playbackForm.pageSize2=t,this.playbackForm.expands2=[],this.search_handler2(a,1)},currentChange3:function(a,t){this.playbackForm.currentPage3*this.playbackForm.pageSize3>=1e4?this.$message.warning("暂时不支持深度分页, 请使用搜索功能"):(this.playbackForm.currentPage3=t,this.search_handler3(a,void 0))},sizeChange3:function(a,t){this.playbackForm.pageSize3=t,this.search_handler3(a,1)},checkColHandler:function(a){var t=a.length;this.checkAllColumes=t===this.columeList.length,this.isIndeterminate=t>0&&t<this.columeList.length;var e=JSON.parse(JSON.stringify(this.playbackForm.tableData1));this.playbackForm.tableData1=[],this.$nextTick(function(){Object(s["a"])(this,this),this.playbackForm.tableData1=e}.bind(this))},checkAllColHandler:function(a){var t=this.columeList.map(function(a){return Object(s["a"])(this,this),a.prop}.bind(this));this.checkColumes=a?t:[],this.isIndeterminate=!1;var e=JSON.parse(JSON.stringify(this.playbackForm.tableData1));this.playbackForm.tableData1=[],this.$nextTick(function(){Object(s["a"])(this,this),this.playbackForm.tableData1=e}.bind(this))},showColume:function(a){return this.checkColumes.some(function(t){return Object(s["a"])(this,this),t===a}.bind(this))}}},c=i,u=(e("fcb4"),e("e607")),p=Object(u["a"])(c,r,l,!1,null,"25da792c",null);t["default"]=p.exports},fcb4:function(a,t,e){"use strict";e("9c30")}}]);