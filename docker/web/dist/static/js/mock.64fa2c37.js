(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mock"],{"52a2":function(e,t,s){},"69b0":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"6a2b":function(e,t,s){"use strict";s("52a2")},"8dee":function(e,t,s){"use strict";var i=s("a86f"),a=s("8078"),n=s("201c"),o=s("212e"),r=s("43ec"),l=s("f417"),c=Math.max,d=Math.min,h=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};s("c46f")("replace",2,(function(e,t,s,f){return[function(i,a){var n=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,n,a):s.call(String(n),i,a)},function(e,t){var a=f(s,e,this,t);if(a.done)return a.value;var h=i(e),u=String(this),m="function"===typeof t;m||(t=String(t));var b=h.global;if(b){var v=h.unicode;h.lastIndex=0}var k=[];while(1){var y=l(h,u);if(null===y)break;if(k.push(y),!b)break;var T=String(y[0]);""===T&&(h.lastIndex=r(u,n(h.lastIndex),v))}for(var C="",w=0,x=0;x<k.length;x++){y=k[x];for(var S=String(y[0]),O=c(d(o(y.index),u.length),0),j=[],M=1;M<y.length;M++)j.push(p(y[M]));var N=y.groups;if(m){var $=[S].concat(j,O,u);void 0!==N&&$.push(N);var z=String(t.apply(void 0,$))}else z=g(S,u,O,j,N,t);O>=w&&(C+=u.slice(w,O)+z,w=O+S.length)}return C+u.slice(w)}];function g(e,t,i,n,o,r){var l=i+e.length,c=n.length,d=m;return void 0!==o&&(o=a(o),d=u),s.call(r,d,(function(s,a){var r;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(l);case"<":r=o[a.slice(1,-1)];break;default:var d=+a;if(0===d)return s;if(d>c){var u=h(d/10);return 0===u?s:u<=c?void 0===n[u-1]?a.charAt(1):n[u-1]+a.charAt(1):s}r=n[d-1]}return void 0===r?"":r}))}}))},c115:function(e,t,s){"use strict";s.r(t);s("d91d");var i=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("el-form",{staticClass:"demo-ruleForm",attrs:{inline:!0,model:e.from}},[t("el-form-item",{attrs:{label:"应用名称"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.from.appName,callback:function(t){e.$set(e.from,"appName",t)},expression:"from.appName"}})],1),t("el-form-item",[t("el-button-group",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1)],1)],1),t("el-card",[t("el-dropdown",{staticClass:"fr",on:{command:e.addField}},[t("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-arrow-down"}},[e._v("新增")]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:1}},[e._v("System.currentTimeMillis()时间回放mock")]),t("el-dropdown-item",{attrs:{command:2}},[e._v("java类方法回放Mock")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList,"header-cell-style":e.tableHeaderStyle,size:"small",border:""}},[t("el-table-column",{attrs:{label:"应用名称",prop:"appName",align:"center","show-overflow-tooltip":"",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"mock类型",prop:"mockTypeMsg",align:"center","show-overflow-tooltip":"",formatter:e.formatTableTDBlank,width:"300px"}}),t("el-table-column",{attrs:{label:"创建人",prop:"createUser",align:"center",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"更新人",prop:"updateUser",align:"center",formatter:e.formatTableTDBlank}}),t("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",formatter:e.formatTableTDBlank,width:"160px"}}),t("el-table-column",{attrs:{label:"更新时间",prop:"updateTime",align:"center",formatter:e.formatTableTDBlank,width:"160px"}}),t("el-table-column",{attrs:{label:"操作",prop:"alertStatus",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.updateConfig(s.row)}}},[e._v("编辑")]),t("el-button",{staticClass:"red",attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteConfig(s.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"block fr"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,50,100],"page-size":e.pageSize,total:e.total,layout:"total,sizes,prev,pager,next,jumper"},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),t("el-dialog",{attrs:{width:"500px",visible:e.dialogVisible,title:e.dialogTitle},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{staticClass:"dialog-ruleForm",attrs:{"label-width":"100px"}},[t("el-form-item",{attrs:{label:"应用名称："}},[t("el-input",{attrs:{size:"small",disabled:!e.addFlag,placeholder:"请输入"},model:{value:e.appName,callback:function(t){e.appName=t},expression:"appName"}})],1),e._l(e.sysTimeMockClasses,(function(s,i){return t("div",{key:i},[t("el-form-item",{attrs:{label:e.dialoglabel,"label-width":"100px"}},[t("el-input",{attrs:{size:"small",placeholder:"请输入"},on:{input:function(t){return e.inputChange(i)}},model:{value:e.sysTimeMockClasses[i],callback:function(t){e.$set(e.sysTimeMockClasses,i,t)},expression:"sysTimeMockClasses[index]"}}),e._v("  \n          "),t("i",{staticClass:"delete",on:{click:function(t){return e.deleteIndex(i)}}}),2==e.mockType?t("div",{staticClass:"example"},[e._v("示例：com.jske.Test2#method3")]):e._e()],1)],1)})),t("el-form-item",{attrs:{"label-width":"100px"}},[t("div",{staticClass:"addBtn",on:{click:function(t){return e.addIndex()}}},[t("i",{staticClass:"el-icon-plus"}),e._v("添加字段\n        ")])])],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v("保 存")])],1)],1)],1)},a=[],n=(s("1084"),s("159a"),s("ac67"),s("4890"),s("32ea"),s("a7e5"),s("fc02"),s("e7a7"),s("1bc7"),s("246f"),s("8dee"),s("0cdc"),s("f829")),o=s("6c23"),r=s("365c");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={data:function(){return{from:{appName:""},addFlag:!1,id:"",mockType:1,appName:"",sysTimeMockClasses:[""],contentJson:"",safeKey:"",desc:"",dialogVisible:!1,loading:!1,configList:[],currentPage:1,pageSize:10,total:0,dialoglabel:"",dialogTitle:""}},watch:{mockType:{handler:function(e){1===e&&(this.dialoglabel="类名：",this.dialogTitle="System.currentTimeMillis()时间回放mock"),2===e&&(this.dialoglabel="java方法：",this.dialogTitle="java类方法回放Mock")},deep:!0,immediate:!0}},created:function(){this.search()},methods:{search:function(){var e=c(c({},this.from),{},{pageNum:this.currentPage,pageSize:this.pageSize});this.loading=!0,r["a"].mock.getList(e).then(function(e){Object(n["a"])(this,this),this.loading=!1,"SUCCESS"===e.code?(null!==e.data.result?this.configList=e.data.result:this.configList=[],this.total=e.data.total):this.$message.error("获取数据失败:"+e.msg)}.bind(this))},currentChange:function(e){this.currentPage=e,this.search()},sizeChange:function(e){this.pageSize=e,this.search()},deleteConfig:function(e){this.$confirm("您确定要删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n["a"])(this,this);var t={};this.loading=!0,t.id=e,r["a"].mock.delete(t).then(function(e){Object(n["a"])(this,this),this.loading=!1,"SUCCESS"===e.code?(this.$message.success("删除成功"),this.search()):this.$message.error("删除失败:"+e.msg)}.bind(this))}.bind(this)).catch(function(){Object(n["a"])(this,this),this.$message({type:"info",message:"已取消删除"})}.bind(this))},addField:function(e){this.mockType=e,this.appName="",this.dialogVisible=!0,this.addFlag=!0},inputChange:function(e){this.sysTimeMockClasses[e]=this.sysTimeMockClasses[e].replace(/\s/g,"")},updateConfig:function(e){this.addFlag=!1,this.dialogVisible=!0,this.mockType=e.mockType,this.appName=e.appName,this.id=e.id;var t=JSON.parse(e.contentJson);1===e.mockType&&(this.sysTimeMockClasses=t.sysTimeMockClasses),2===e.mockType&&(this.sysTimeMockClasses=[],t.forEach(function(e){Object(n["a"])(this,this),e.methodList.forEach(function(t){Object(n["a"])(this,this),this.sysTimeMockClasses.push("".concat(e.className,"#").concat(t))}.bind(this))}.bind(this)))},addIndex:function(){var e=this.sysTimeMockClasses.some(function(e){return Object(n["a"])(this,this),!e}.bind(this));e?this.$message.warning("请填写空白的字段，再添加新的"):this.sysTimeMockClasses.push("")},deleteIndex:function(e){this.sysTimeMockClasses.length>1?this.sysTimeMockClasses.splice(e,1):this.$message.warning("至少配置一条内容!")},submitForm:function(){if(0==this.sysTimeMockClasses.length)return this.$message.warning("至少配置一条内容!");for(var e=0;e<this.sysTimeMockClasses.length;e++){if(""==this.sysTimeMockClasses[e])return this.$message.warning("不能配置空内容！");if(2===this.mockType){var t=this.sysTimeMockClasses[e].split("#");if(2!==t.length)return this.$message.warning("java方法：有且只有一个#");var s=t.some(function(e){return Object(n["a"])(this,this),!e}.bind(this));if(s)return this.$message.warning("java方法：#两边必须有字符")}}var i={},a={};a.sysTimeMockClasses=JSON.parse(JSON.stringify(this.sysTimeMockClasses)),1===this.mockType&&(i.contentJson=JSON.stringify(a)),2===this.mockType&&(i.contentJson=[],a.sysTimeMockClasses.forEach(function(e){Object(n["a"])(this,this);var t=e.split("#"),s=i.contentJson.findIndex(function(e){return Object(n["a"])(this,this),e.className===t[0]}.bind(this));s>-1?i.contentJson[s].methodList.push(t[1]):i.contentJson.push({className:t[0],methodList:[t[1]]})}.bind(this)),i.contentJson=JSON.stringify(i.contentJson)),i.appName=this.appName,i.mockType=this.mockType,this.addFlag?r["a"].mock.addConfig(i).then(function(e){Object(n["a"])(this,this),"SUCCESS"===e.code?(this.$message.success("添加成功"),this.dialogVisible=!1,this.search()):this.$message.error("添加失败:"+e.msg)}.bind(this)):(i.id=this.id,r["a"].mock.update(i).then(function(e){Object(n["a"])(this,this),"SUCCESS"===e.code?(this.$message.success("修改成功"),this.dialogVisible=!1,this.search()):this.$message.error("修改失败:"+e.msg)}.bind(this)))}}},h=d,u=(s("6a2b"),s("e607")),m=Object(u["a"])(h,i,a,!1,null,"7fea604b",null);t["default"]=m.exports},d91d:function(e,t,s){"use strict";var i=s("a86f"),a=s("69b0"),n=s("f417");s("c46f")("search",1,(function(e,t,s,o){return[function(s){var i=e(this),a=void 0==s?void 0:s[t];return void 0!==a?a.call(s,i):new RegExp(s)[t](String(i))},function(e){var t=o(s,e,this);if(t.done)return t.value;var r=i(e),l=String(this),c=r.lastIndex;a(c,0)||(r.lastIndex=0);var d=n(r,l);return a(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]}))}}]);